<!--**
 * @(#)ng-date-picker.component.html Sept 05, 2023

 * @author Aakash Kumar
 *-->
<div class="date-picker-main" cdkOverlayOrigin #trigger>
  <mat-form-field class="w-100" (click)="toggleDateOptionSelectionList()">
    <mat-label>Select Date Range</mat-label>
    <input matInput readonly="readonly" #dateInput>
    <mat-icon matSuffix>date_range</mat-icon>
  </mat-form-field>
  <ng-template cdkConnectedOverlay [cdkConnectedOverlayHasBackdrop]="true" [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isDateOptionList" [cdkConnectedOverlayPush]="true" [cdkConnectedOverlayOffsetX]="0"
    [cdkConnectedOverlayOffsetY]="0" (backdropClick)="toggleDateOptionSelectionList()">
    <mat-action-list class="w-100" *ngIf="defaultDateList && defaultDateList.length">
      <mat-list-item *ngFor="let option of defaultDateList" [activated]="option.isSelected"
        (click)="updateSelection(option, dateInput)">{{option.optionLabel}}</mat-list-item>
    </mat-action-list>
  </ng-template>

  <ng-template cdkConnectedOverlay [cdkConnectedOverlayHasBackdrop]="true" [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isCustomRange" [cdkConnectedOverlayPush]="true" [cdkConnectedOverlayOffsetX]="0"
    [cdkConnectedOverlayOffsetY]="0" (backdropClick)="toggleCustomDateRangeView()">
    <div class="row">
      <div class="row">
        <div class="col-md-3 pt-custom br-right"> <mat-action-list>
            <mat-list-item *ngFor="let option of defaultDateList" (click)="updateSelection(option, dateInput)"
              [activated]="option.isSelected">{{option.optionLabel}}</mat-list-item>
          </mat-action-list></div>
        <div class="col-md-9"><lib-calendar [selectedDates]="selectedDates" #calendar></lib-calendar></div>
      </div>
      <div class="row br-top">
        <div class="col-12 text-end p-2">
          {{calendar?.selectedDates?.start | date: 'dd/MM/yyyy'}}
          <span *ngIf="calendar?.selectedDates?.end"> - {{calendar.selectedDates.end | date:
            'dd/MM/yyyy'}} </span>
        </div>
      </div>
    </div>
  </ng-template>
</div>
